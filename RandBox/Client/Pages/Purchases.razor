@page "/purchases"
@inject IOrderService OrderService
@inject IOrderItemService OrderItemService
@inject IProductService ProductService

<div class="main-content-div">
    <h3 class="section-title">
        Subscriptions
    </h3>
    <div>
        <div class="item-box col d-flex justify-content-between align-items-center">
            <div>
                <p class="active-until">Active until 20 Jan 2024</p>
                <p class="item-title">1 month Mystery Box Plan</p>
                <p class="info">Category: Animation</p>
                <p class="info">First Subscribed on 20 Dec 2023</p>
                <h4 class="unsubscribe-btn" @* @onclick="" *@>
                    Unsubscribe
                </h4>
            </div>
            <h3 class="price">$19.99<span>/month</span></h3>
        </div>
        <div class="item-box col d-flex justify-content-between align-items-center">
            <div>
                <p class="active-until">Active until 20 Jan 2024</p>
                <p class="item-title">1 month Mystery Box Plan</p>
                <p class="info">Category: Animation</p>
                <p class="info">First Subscribed on 20 Dec 2023</p>
                <h4 class="unsubscribe-btn" @* @onclick="" *@>
                    Unsubscribe
                </h4>
            </div>
            <h3 class="price">$19.99<span>/month</span></h3>
        </div>
    </div>

    <h3 class="section-title">
        Orders
    </h3>
    <div>
        <div class="item-box col d-flex justify-content-between align-items-center">
            <div>
                <p class="item-title">Order #213415</p>
                <p class="info">Purchased On: January 31, 2025</p>
            </div>
            <h3 class="price">$19.99</h3>
        </div>
        <div class="item-box col d-flex justify-content-between align-items-center">
            <div>
                <p class="item-title">Order #112415</p>
                <p class="info">Purchased On: January 31, 2025</p>
            </div>
            <h3 class="price">$19.99</h3>
        </div>
    </div>
</div>



@code {
    private List<Orders>? orders;
    private List<Product>? products;

    protected override async Task OnInitializedAsync()
    {
        ProductService._httpInterceptorService.RegisterEvent();
        OrderItemService._httpInterceptorService.RegisterEvent();
        OrderService._httpInterceptorService.RegisterEvent();
    }
}
